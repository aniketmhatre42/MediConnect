{"ast":null,"code":"var _jsxFileName = \"D:\\\\Movies\\\\Aniket\\\\test2\\\\test\\\\src\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport * as faceapi from 'face-api.js';\nimport { signInUser } from './firebase/authService';\nimport './Login.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  // Face authentication state\n  const [isCapturing, setIsCapturing] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [scanStatus, setScanStatus] = useState('');\n  const [matchProgress, setMatchProgress] = useState(0);\n  const [faceDetected, setFaceDetected] = useState(false);\n  const [faceName, setFaceName] = useState('');\n  const [scanningComplete, setScanningComplete] = useState(false);\n  const [modelLoaded, setModelLoaded] = useState(false);\n\n  // Face position feedback\n  const [faceCentered, setFaceCentered] = useState(false);\n  const [faceDistance, setFaceDistance] = useState('unknown');\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const navigate = useNavigate();\n\n  // Load models on component mount\n  useEffect(() => {\n    const loadModels = async () => {\n      try {\n        setScanStatus('Loading face recognition models...');\n        setLoading(true);\n        const MODEL_URL = 'https://justadudewhohacks.github.io/face-api.js/models';\n        await Promise.all([faceapi.nets.tinyFaceDetector.loadFromUri(MODEL_URL), faceapi.nets.faceLandmark68Net.loadFromUri(MODEL_URL), faceapi.nets.faceRecognitionNet.loadFromUri(MODEL_URL)]);\n        setModelLoaded(true);\n        setScanStatus('Models loaded successfully');\n        setLoading(false);\n      } catch (err) {\n        setError('Error loading face detection models: ' + err.message);\n        setLoading(false);\n      }\n    };\n    loadModels();\n  }, []);\n  const startFaceAuthentication = async () => {\n    if (!modelLoaded) {\n      setError('Face recognition models are not loaded yet');\n      return;\n    }\n    setIsCapturing(true);\n    setFaceDetected(false);\n    setIsAuthenticated(false);\n    setError('');\n    setScanningComplete(false);\n    try {\n      setScanStatus('Starting camera...');\n      startVideoStream();\n    } catch (err) {\n      setError('Error starting authentication: ' + err.message);\n      setLoading(false);\n    }\n  };\n  const startVideoStream = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: {\n          width: {\n            ideal: 640\n          },\n          height: {\n            ideal: 480\n          },\n          facingMode: \"user\"\n        }\n      });\n      if (videoRef.current) {\n        videoRef.current.srcObject = stream;\n        videoRef.current.onloadedmetadata = () => {\n          videoRef.current.play().then(() => {\n            fetchStoredFaceData();\n          }).catch(err => {\n            setError('Error playing video: ' + err.message);\n            setLoading(false);\n          });\n        };\n      }\n    } catch (err) {\n      setError('Error accessing camera: ' + err.message);\n      setLoading(false);\n    }\n  };\n  const fetchStoredFaceData = async () => {\n    setScanStatus('Looking for registered faces...');\n    try {\n      // Get stored face data from localStorage\n      const storedFaceData = JSON.parse(localStorage.getItem('face_descriptors') || '[]');\n      if (!storedFaceData || storedFaceData.length === 0) {\n        setScanStatus('No registered faces found. Please register first.');\n        setError('No faces are registered for recognition');\n        setLoading(false);\n        return;\n      }\n      console.log(`Found ${storedFaceData.length} registered faces`);\n      startFaceDetectionLoop(storedFaceData);\n    } catch (err) {\n      setError('Error fetching face data: ' + err.message);\n      setLoading(false);\n    }\n  };\n  const startFaceDetectionLoop = storedFaceData => {\n    if (!videoRef.current || !canvasRef.current) return;\n    let matchAttempts = 0;\n    const maxAttempts = 30;\n    let bestMatch = {\n      distance: 1,\n      user: null\n    };\n    const detectFace = async () => {\n      if (!videoRef.current || !canvasRef.current || matchAttempts >= maxAttempts) return;\n      try {\n        setScanStatus(`Scanning for matching face (${matchAttempts + 1}/${maxAttempts})...`);\n        setMatchProgress(matchAttempts / maxAttempts * 100);\n        const video = videoRef.current;\n        const canvas = canvasRef.current;\n        canvas.width = video.videoWidth;\n        canvas.height = video.videoHeight;\n        const detection = await faceapi.detectSingleFace(video, new faceapi.TinyFaceDetectorOptions()).withFaceLandmarks().withFaceDescriptor();\n        if (detection) {\n          // Draw detection on canvas\n          const context = canvas.getContext('2d');\n          context.clearRect(0, 0, canvas.width, canvas.height);\n          const dims = faceapi.matchDimensions(canvas, video, true);\n          const resizedResults = faceapi.resizeResults(detection, dims);\n\n          // Draw face detection box and landmarks\n          faceapi.draw.drawDetections(canvas, [resizedResults]);\n          faceapi.draw.drawFaceLandmarks(canvas, [resizedResults]);\n\n          // Calculate face position feedback\n          const box = detection.detection.box;\n          const centerX = box.x + box.width / 2;\n          const centerY = box.y + box.height / 2;\n          const canvasCenterX = canvas.width / 2;\n          const canvasCenterY = canvas.height / 2;\n\n          // Check if face is centered\n          const isCentered = Math.abs(centerX - canvasCenterX) < canvas.width * 0.15 && Math.abs(centerY - canvasCenterY) < canvas.height * 0.15;\n          setFaceCentered(isCentered);\n\n          // Check face size/distance\n          const faceRatio = box.width / canvas.width;\n          if (faceRatio < 0.2) {\n            setFaceDistance('too_far');\n          } else if (faceRatio > 0.6) {\n            setFaceDistance('too_close');\n          } else {\n            setFaceDistance('good');\n          }\n          setFaceDetected(true);\n\n          // Compare with stored face descriptors\n          for (const userData of storedFaceData) {\n            if (userData.descriptor) {\n              const storedDescriptor = new Float32Array(userData.descriptor);\n              const distance = faceapi.euclideanDistance(detection.descriptor, storedDescriptor);\n\n              // Keep track of the best match\n              if (distance < bestMatch.distance) {\n                bestMatch = {\n                  distance,\n                  user: userData\n                };\n              }\n\n              // If we have a very good match, stop early\n              if (distance < 0.45) {\n                setIsAuthenticated(true);\n                setFaceName(userData.username || 'User');\n                setScanStatus(`Welcome back, ${userData.username || 'User'}!`);\n                setLoading(false);\n                setScanningComplete(true);\n\n                // Sign in the user\n                sessionStorage.setItem('authenticated', 'true');\n                sessionStorage.setItem('currentUser', JSON.stringify(userData));\n\n                // Redirect after a short delay\n                setTimeout(() => {\n                  stopVideoStream();\n                  navigate('/');\n                }, 2000);\n                return;\n              }\n            }\n          }\n          matchAttempts++;\n          if (matchAttempts >= maxAttempts) {\n            // After all attempts, if we have a reasonable match, use it\n            if (bestMatch.distance < 0.6) {\n              setIsAuthenticated(true);\n              setFaceName(bestMatch.user.username || 'User');\n              setScanStatus(`Welcome back, ${bestMatch.user.username || 'User'}!`);\n\n              // Sign in the user\n              sessionStorage.setItem('authenticated', 'true');\n              sessionStorage.setItem('currentUser', JSON.stringify(bestMatch.user));\n              setTimeout(() => {\n                stopVideoStream();\n                navigate('/');\n              }, 2000);\n            } else {\n              setScanStatus('Face not recognized. Please try again or use email login.');\n              setError('No matching face found');\n            }\n            setLoading(false);\n            setScanningComplete(true);\n          } else {\n            requestAnimationFrame(detectFace);\n          }\n        } else {\n          setScanStatus('No face detected. Please position your face in the frame.');\n          setFaceDetected(false);\n          matchAttempts++;\n          if (matchAttempts >= maxAttempts) {\n            setScanStatus('Face not detected. Please try again.');\n            setLoading(false);\n            setScanningComplete(true);\n          } else {\n            requestAnimationFrame(detectFace);\n          }\n        }\n      } catch (err) {\n        setError('Error during face detection: ' + err.message);\n        setLoading(false);\n      }\n    };\n    detectFace();\n  };\n  const stopVideoStream = () => {\n    var _videoRef$current;\n    if ((_videoRef$current = videoRef.current) !== null && _videoRef$current !== void 0 && _videoRef$current.srcObject) {\n      const stream = videoRef.current.srcObject;\n      stream.getTracks().forEach(track => track.stop());\n      videoRef.current.srcObject = null;\n    }\n    setIsCapturing(false);\n  };\n  const restartFaceAuth = () => {\n    if (canvasRef.current) {\n      const context = canvasRef.current.getContext('2d');\n      context.clearRect(0, 0, canvasRef.current.width, canvasRef.current.height);\n    }\n    stopVideoStream();\n    setMatchProgress(0);\n    setFaceDetected(false);\n    setIsAuthenticated(false);\n    setScanningComplete(false);\n    setError('');\n    startFaceAuthentication();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Face Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"face-auth-container\",\n        children: !isCapturing ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"start-auth-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"face-auth-intro\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"face-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Facial Recognition Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Login with your face - quick, secure and password-free\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"start-auth-btn\",\n            onClick: startFaceAuthentication,\n            disabled: loading || !modelLoaded,\n            children: loading ? 'Loading Models...' : 'Start Face Authentication'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"auth-tips\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"For best results:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Ensure your face is well-lit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Look directly at the camera\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Remove glasses or hats if possible\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [!scanningComplete && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"face-position-guide\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Face Positioning Guide\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"face-guide-list\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                className: faceCentered ? 'success' : '',\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"check-icon\",\n                  children: faceCentered ? '✓' : '○'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 23\n                }, this), \"Center your face in the frame\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                className: faceDistance === 'good' ? 'success' : '',\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"check-icon\",\n                  children: faceDistance === 'good' ? '✓' : '○'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 23\n                }, this), \"Keep a good distance (not too close/far)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                className: faceDetected ? 'success' : '',\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"check-icon\",\n                  children: faceDetected ? '✓' : '○'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 23\n                }, this), \"Look directly at the camera\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"video-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"video\", {\n              ref: videoRef,\n              autoPlay: true,\n              muted: true,\n              playsInline: true,\n              className: \"face-video\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n              ref: canvasRef,\n              className: \"face-canvas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 17\n            }, this), isCapturing && !scanningComplete && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"scan-message\",\n                children: scanStatus\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detection-progress-container\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detection-progress-bar\",\n                  style: {\n                    width: `${matchProgress}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 21\n              }, this), !faceDetected && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `face-position-feedback ${faceDistance}`,\n                children: [!faceCentered && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: \"Move your face to the center\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 371,\n                  columnNumber: 43\n                }, this), faceDistance === 'too_close' && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: \"Move further from camera\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 58\n                }, this), faceDistance === 'too_far' && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: \"Move closer to camera\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 56\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true), isAuthenticated && scanningComplete && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"auth-success-overlay\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"success-checkmark\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Authentication Successful!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Welcome back, \", faceName, \"!\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"redirect-message\",\n                children: \"Redirecting you to dashboard...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 19\n            }, this), !isAuthenticated && scanningComplete && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"auth-failed-overlay\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"failed-icon\",\n                children: \"\\u2715\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Authentication Failed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Face not recognized\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 15\n          }, this), scanningComplete && !isAuthenticated && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"retry-button\",\n            onClick: restartFaceAuth,\n            children: \"Try Again\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alternative-auth\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Don't have an account?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"register-btn\",\n          onClick: () => navigate('/signup'),\n          children: \"Create Account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 293,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"AHq2EgmVAU1G8cdfmtySRnkmphw=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useNavigate","faceapi","signInUser","jsxDEV","_jsxDEV","Fragment","_Fragment","Login","_s","isCapturing","setIsCapturing","loading","setLoading","error","setError","isAuthenticated","setIsAuthenticated","scanStatus","setScanStatus","matchProgress","setMatchProgress","faceDetected","setFaceDetected","faceName","setFaceName","scanningComplete","setScanningComplete","modelLoaded","setModelLoaded","faceCentered","setFaceCentered","faceDistance","setFaceDistance","videoRef","canvasRef","navigate","loadModels","MODEL_URL","Promise","all","nets","tinyFaceDetector","loadFromUri","faceLandmark68Net","faceRecognitionNet","err","message","startFaceAuthentication","startVideoStream","stream","navigator","mediaDevices","getUserMedia","video","width","ideal","height","facingMode","current","srcObject","onloadedmetadata","play","then","fetchStoredFaceData","catch","storedFaceData","JSON","parse","localStorage","getItem","length","console","log","startFaceDetectionLoop","matchAttempts","maxAttempts","bestMatch","distance","user","detectFace","canvas","videoWidth","videoHeight","detection","detectSingleFace","TinyFaceDetectorOptions","withFaceLandmarks","withFaceDescriptor","context","getContext","clearRect","dims","matchDimensions","resizedResults","resizeResults","draw","drawDetections","drawFaceLandmarks","box","centerX","x","centerY","y","canvasCenterX","canvasCenterY","isCentered","Math","abs","faceRatio","userData","descriptor","storedDescriptor","Float32Array","euclideanDistance","username","sessionStorage","setItem","stringify","setTimeout","stopVideoStream","requestAnimationFrame","_videoRef$current","getTracks","forEach","track","stop","restartFaceAuth","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","ref","autoPlay","muted","playsInline","style","_c","$RefreshReg$"],"sources":["D:/Movies/Aniket/test2/test/src/Login.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport * as faceapi from 'face-api.js';\r\nimport { signInUser } from './firebase/authService';\r\nimport './Login.css';\r\n\r\nconst Login = () => {\r\n  // Face authentication state\r\n  const [isCapturing, setIsCapturing] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [scanStatus, setScanStatus] = useState('');\r\n  const [matchProgress, setMatchProgress] = useState(0);\r\n  const [faceDetected, setFaceDetected] = useState(false);\r\n  const [faceName, setFaceName] = useState('');\r\n  const [scanningComplete, setScanningComplete] = useState(false);\r\n  const [modelLoaded, setModelLoaded] = useState(false);\r\n\r\n  // Face position feedback\r\n  const [faceCentered, setFaceCentered] = useState(false);\r\n  const [faceDistance, setFaceDistance] = useState('unknown');\r\n  \r\n  const videoRef = useRef(null);\r\n  const canvasRef = useRef(null);\r\n  const navigate = useNavigate();\r\n\r\n  // Load models on component mount\r\n  useEffect(() => {\r\n    const loadModels = async () => {\r\n      try {\r\n        setScanStatus('Loading face recognition models...');\r\n        setLoading(true);\r\n        \r\n        const MODEL_URL = 'https://justadudewhohacks.github.io/face-api.js/models';\r\n        await Promise.all([\r\n          faceapi.nets.tinyFaceDetector.loadFromUri(MODEL_URL),\r\n          faceapi.nets.faceLandmark68Net.loadFromUri(MODEL_URL),\r\n          faceapi.nets.faceRecognitionNet.loadFromUri(MODEL_URL)\r\n        ]);\r\n        \r\n        setModelLoaded(true);\r\n        setScanStatus('Models loaded successfully');\r\n        setLoading(false);\r\n      } catch (err) {\r\n        setError('Error loading face detection models: ' + err.message);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    loadModels();\r\n  }, []);\r\n\r\n  const startFaceAuthentication = async () => {\r\n    if (!modelLoaded) {\r\n      setError('Face recognition models are not loaded yet');\r\n      return;\r\n    }\r\n\r\n    setIsCapturing(true);\r\n    setFaceDetected(false);\r\n    setIsAuthenticated(false);\r\n    setError('');\r\n    setScanningComplete(false);\r\n    \r\n    try {\r\n      setScanStatus('Starting camera...');\r\n      startVideoStream();\r\n    } catch (err) {\r\n      setError('Error starting authentication: ' + err.message);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const startVideoStream = async () => {\r\n    try {\r\n      const stream = await navigator.mediaDevices.getUserMedia({ \r\n        video: {\r\n          width: { ideal: 640 },\r\n          height: { ideal: 480 },\r\n          facingMode: \"user\"\r\n        }\r\n      });\r\n      \r\n      if (videoRef.current) {\r\n        videoRef.current.srcObject = stream;\r\n        videoRef.current.onloadedmetadata = () => {\r\n          videoRef.current.play()\r\n            .then(() => {\r\n              fetchStoredFaceData();\r\n            })\r\n            .catch(err => {\r\n              setError('Error playing video: ' + err.message);\r\n              setLoading(false);\r\n            });\r\n        };\r\n      }\r\n    } catch (err) {\r\n      setError('Error accessing camera: ' + err.message);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchStoredFaceData = async () => {\r\n    setScanStatus('Looking for registered faces...');\r\n    \r\n    try {\r\n      // Get stored face data from localStorage\r\n      const storedFaceData = JSON.parse(localStorage.getItem('face_descriptors') || '[]');\r\n      \r\n      if (!storedFaceData || storedFaceData.length === 0) {\r\n        setScanStatus('No registered faces found. Please register first.');\r\n        setError('No faces are registered for recognition');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n      \r\n      console.log(`Found ${storedFaceData.length} registered faces`);\r\n      startFaceDetectionLoop(storedFaceData);\r\n    } catch (err) {\r\n      setError('Error fetching face data: ' + err.message);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const startFaceDetectionLoop = (storedFaceData) => {\r\n    if (!videoRef.current || !canvasRef.current) return;\r\n    \r\n    let matchAttempts = 0;\r\n    const maxAttempts = 30;\r\n    let bestMatch = { distance: 1, user: null };\r\n    \r\n    const detectFace = async () => {\r\n      if (!videoRef.current || !canvasRef.current || matchAttempts >= maxAttempts) return;\r\n      \r\n      try {\r\n        setScanStatus(`Scanning for matching face (${matchAttempts + 1}/${maxAttempts})...`);\r\n        setMatchProgress((matchAttempts / maxAttempts) * 100);\r\n        \r\n        const video = videoRef.current;\r\n        const canvas = canvasRef.current;\r\n        \r\n        canvas.width = video.videoWidth;\r\n        canvas.height = video.videoHeight;\r\n        \r\n        const detection = await faceapi\r\n          .detectSingleFace(video, new faceapi.TinyFaceDetectorOptions())\r\n          .withFaceLandmarks()\r\n          .withFaceDescriptor();\r\n\r\n        if (detection) {\r\n          // Draw detection on canvas\r\n          const context = canvas.getContext('2d');\r\n          context.clearRect(0, 0, canvas.width, canvas.height);\r\n          \r\n          const dims = faceapi.matchDimensions(canvas, video, true);\r\n          const resizedResults = faceapi.resizeResults(detection, dims);\r\n          \r\n          // Draw face detection box and landmarks\r\n          faceapi.draw.drawDetections(canvas, [resizedResults]);\r\n          faceapi.draw.drawFaceLandmarks(canvas, [resizedResults]);\r\n          \r\n          // Calculate face position feedback\r\n          const box = detection.detection.box;\r\n          const centerX = box.x + box.width / 2;\r\n          const centerY = box.y + box.height / 2;\r\n          const canvasCenterX = canvas.width / 2;\r\n          const canvasCenterY = canvas.height / 2;\r\n          \r\n          // Check if face is centered\r\n          const isCentered = \r\n            Math.abs(centerX - canvasCenterX) < canvas.width * 0.15 && \r\n            Math.abs(centerY - canvasCenterY) < canvas.height * 0.15;\r\n          setFaceCentered(isCentered);\r\n          \r\n          // Check face size/distance\r\n          const faceRatio = box.width / canvas.width;\r\n          if (faceRatio < 0.2) {\r\n            setFaceDistance('too_far');\r\n          } else if (faceRatio > 0.6) {\r\n            setFaceDistance('too_close');\r\n          } else {\r\n            setFaceDistance('good');\r\n          }\r\n          \r\n          setFaceDetected(true);\r\n          \r\n          // Compare with stored face descriptors\r\n          for (const userData of storedFaceData) {\r\n            if (userData.descriptor) {\r\n              const storedDescriptor = new Float32Array(userData.descriptor);\r\n              const distance = faceapi.euclideanDistance(detection.descriptor, storedDescriptor);\r\n              \r\n              // Keep track of the best match\r\n              if (distance < bestMatch.distance) {\r\n                bestMatch = { distance, user: userData };\r\n              }\r\n              \r\n              // If we have a very good match, stop early\r\n              if (distance < 0.45) {\r\n                setIsAuthenticated(true);\r\n                setFaceName(userData.username || 'User');\r\n                setScanStatus(`Welcome back, ${userData.username || 'User'}!`);\r\n                setLoading(false);\r\n                setScanningComplete(true);\r\n                \r\n                // Sign in the user\r\n                sessionStorage.setItem('authenticated', 'true');\r\n                sessionStorage.setItem('currentUser', JSON.stringify(userData));\r\n                \r\n                // Redirect after a short delay\r\n                setTimeout(() => {\r\n                  stopVideoStream();\r\n                  navigate('/');\r\n                }, 2000);\r\n                return;\r\n              }\r\n            }\r\n          }\r\n          \r\n          matchAttempts++;\r\n          \r\n          if (matchAttempts >= maxAttempts) {\r\n            // After all attempts, if we have a reasonable match, use it\r\n            if (bestMatch.distance < 0.6) {\r\n              setIsAuthenticated(true);\r\n              setFaceName(bestMatch.user.username || 'User');\r\n              setScanStatus(`Welcome back, ${bestMatch.user.username || 'User'}!`);\r\n              \r\n              // Sign in the user\r\n              sessionStorage.setItem('authenticated', 'true');\r\n              sessionStorage.setItem('currentUser', JSON.stringify(bestMatch.user));\r\n              \r\n              setTimeout(() => {\r\n                stopVideoStream();\r\n                navigate('/');\r\n              }, 2000);\r\n            } else {\r\n              setScanStatus('Face not recognized. Please try again or use email login.');\r\n              setError('No matching face found');\r\n            }\r\n            setLoading(false);\r\n            setScanningComplete(true);\r\n          } else {\r\n            requestAnimationFrame(detectFace);\r\n          }\r\n        } else {\r\n          setScanStatus('No face detected. Please position your face in the frame.');\r\n          setFaceDetected(false);\r\n          matchAttempts++;\r\n          \r\n          if (matchAttempts >= maxAttempts) {\r\n            setScanStatus('Face not detected. Please try again.');\r\n            setLoading(false);\r\n            setScanningComplete(true);\r\n          } else {\r\n            requestAnimationFrame(detectFace);\r\n          }\r\n        }\r\n      } catch (err) {\r\n        setError('Error during face detection: ' + err.message);\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    detectFace();\r\n  };\r\n\r\n  const stopVideoStream = () => {\r\n    if (videoRef.current?.srcObject) {\r\n      const stream = videoRef.current.srcObject;\r\n      stream.getTracks().forEach(track => track.stop());\r\n      videoRef.current.srcObject = null;\r\n    }\r\n    setIsCapturing(false);\r\n  };\r\n\r\n  const restartFaceAuth = () => {\r\n    if (canvasRef.current) {\r\n      const context = canvasRef.current.getContext('2d');\r\n      context.clearRect(0, 0, canvasRef.current.width, canvasRef.current.height);\r\n    }\r\n    stopVideoStream();\r\n    setMatchProgress(0);\r\n    setFaceDetected(false);\r\n    setIsAuthenticated(false);\r\n    setScanningComplete(false);\r\n    setError('');\r\n    startFaceAuthentication();\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-container\">\r\n      <div className=\"login-card\">\r\n        <h2>Face Login</h2>\r\n        {error && <div className=\"error-message\">{error}</div>}\r\n        \r\n        <div className=\"face-auth-container\">\r\n          {!isCapturing ? (\r\n            <div className=\"start-auth-container\">\r\n              <div className=\"face-auth-intro\">\r\n                <div className=\"face-icon\"></div>\r\n                <h3>Facial Recognition Login</h3>\r\n                <p>Login with your face - quick, secure and password-free</p>\r\n              </div>\r\n              <button \r\n                className=\"start-auth-btn\"\r\n                onClick={startFaceAuthentication}\r\n                disabled={loading || !modelLoaded}\r\n              >\r\n                {loading ? 'Loading Models...' : 'Start Face Authentication'}\r\n              </button>\r\n              <div className=\"auth-tips\">\r\n                <p>For best results:</p>\r\n                <ul>\r\n                  <li>Ensure your face is well-lit</li>\r\n                  <li>Look directly at the camera</li>\r\n                  <li>Remove glasses or hats if possible</li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <>\r\n              {!scanningComplete && (\r\n                <div className=\"face-position-guide\">\r\n                  <h3>Face Positioning Guide</h3>\r\n                  <ul className=\"face-guide-list\">\r\n                    <li className={faceCentered ? 'success' : ''}>\r\n                      <span className=\"check-icon\">{faceCentered ? '✓' : '○'}</span>\r\n                      Center your face in the frame\r\n                    </li>\r\n                    <li className={faceDistance === 'good' ? 'success' : ''}>\r\n                      <span className=\"check-icon\">{faceDistance === 'good' ? '✓' : '○'}</span>\r\n                      Keep a good distance (not too close/far)\r\n                    </li>\r\n                    <li className={faceDetected ? 'success' : ''}>\r\n                      <span className=\"check-icon\">{faceDetected ? '✓' : '○'}</span>\r\n                      Look directly at the camera\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              )}\r\n              \r\n              <div className=\"video-container\">\r\n                <video\r\n                  ref={videoRef}\r\n                  autoPlay\r\n                  muted\r\n                  playsInline\r\n                  className=\"face-video\"\r\n                />\r\n                <canvas\r\n                  ref={canvasRef}\r\n                  className=\"face-canvas\"\r\n                />\r\n                \r\n                {isCapturing && !scanningComplete && (\r\n                  <>\r\n                    <div className=\"scan-message\">{scanStatus}</div>\r\n                    {/* Progress bar */}\r\n                    <div className=\"detection-progress-container\">\r\n                      <div \r\n                        className=\"detection-progress-bar\" \r\n                        style={{width: `${matchProgress}%`}}\r\n                      ></div>\r\n                    </div>\r\n                    \r\n                    {/* Face position feedback */}\r\n                    {!faceDetected && (\r\n                      <div className={`face-position-feedback ${faceDistance}`}>\r\n                        {!faceCentered && <div>Move your face to the center</div>}\r\n                        {faceDistance === 'too_close' && <div>Move further from camera</div>}\r\n                        {faceDistance === 'too_far' && <div>Move closer to camera</div>}\r\n                      </div>\r\n                    )}\r\n                  </>\r\n                )}\r\n                \r\n                {isAuthenticated && scanningComplete && (\r\n                  <div className=\"auth-success-overlay\">\r\n                    <div className=\"success-checkmark\"></div>\r\n                    <h3>Authentication Successful!</h3>\r\n                    <p>Welcome back, {faceName}!</p>\r\n                    <p className=\"redirect-message\">Redirecting you to dashboard...</p>\r\n                  </div>\r\n                )}\r\n                \r\n                {!isAuthenticated && scanningComplete && (\r\n                  <div className=\"auth-failed-overlay\">\r\n                    <div className=\"failed-icon\">✕</div>\r\n                    <h3>Authentication Failed</h3>\r\n                    <p>Face not recognized</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              \r\n              {scanningComplete && !isAuthenticated && (\r\n                <button \r\n                  className=\"retry-button\"\r\n                  onClick={restartFaceAuth}\r\n                >\r\n                  Try Again\r\n                </button>\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"alternative-auth\">\r\n          <p>Don't have an account?</p>\r\n          <button \r\n            className=\"register-btn\"\r\n            onClick={() => navigate('/signup')}\r\n          >\r\n            Create Account\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}