{"ast":null,"code":"/**\r\n * Utility to help debug camera issues\r\n */\n\nexport const diagnoseCamera = async () => {\n  const report = {\n    browserInfo: getBrowserInfo(),\n    cameraSupport: checkCameraSupport(),\n    permissions: await checkCameraPermissions(),\n    devices: await listMediaDevices()\n  };\n  console.log(\"Camera diagnostics report:\", report);\n  return report;\n};\nfunction getBrowserInfo() {\n  return {\n    userAgent: navigator.userAgent,\n    vendor: navigator.vendor,\n    platform: navigator.platform,\n    language: navigator.language\n  };\n}\nfunction checkCameraSupport() {\n  return {\n    mediaDevicesSupported: !!navigator.mediaDevices,\n    getUserMediaSupported: !!(navigator.mediaDevices && navigator.mediaDevices.getUserMedia),\n    enumerateDevicesSupported: !!(navigator.mediaDevices && navigator.mediaDevices.enumerateDevices),\n    streamConstraintsSupported: !!(window.MediaStreamTrack && MediaStreamTrack.getSources)\n  };\n}\nasync function checkCameraPermissions() {\n  try {\n    // Query for camera permission state\n    const permissionStatus = await navigator.permissions.query({\n      name: 'camera'\n    });\n    return {\n      state: permissionStatus.state,\n      // 'granted', 'denied', or 'prompt'\n      permissionQuerySupported: true\n    };\n  } catch (error) {\n    // Permission query not supported\n    return {\n      state: 'unknown',\n      permissionQuerySupported: false,\n      error: error.message\n    };\n  }\n}\nasync function listMediaDevices() {\n  try {\n    if (!navigator.mediaDevices || !navigator.mediaDevices.enumerateDevices) {\n      return {\n        supported: false\n      };\n    }\n    const devices = await navigator.mediaDevices.enumerateDevices();\n    return {\n      supported: true,\n      count: devices.length,\n      videoCameras: devices.filter(d => d.kind === 'videoinput').map(d => ({\n        deviceId: d.deviceId,\n        label: d.label || 'Unnamed camera',\n        groupId: d.groupId\n      }))\n    };\n  } catch (error) {\n    return {\n      supported: false,\n      error: error.message\n    };\n  }\n}\n\n/**\r\n * Tests the camera with current constraints\r\n * @returns {Promise<Object>} Test results\r\n */\nexport const testCameraWithConstraints = async (constraints = {\n  video: true\n}) => {\n  try {\n    const stream = await navigator.mediaDevices.getUserMedia(constraints);\n\n    // Analyze the stream tracks\n    const videoTracks = stream.getVideoTracks();\n    const trackInfo = videoTracks.map(track => ({\n      label: track.label,\n      enabled: track.enabled,\n      muted: track.muted,\n      readyState: track.readyState,\n      constraints: track.getConstraints(),\n      settings: track.getSettings()\n    }));\n\n    // Stop the stream\n    videoTracks.forEach(track => track.stop());\n    return {\n      success: true,\n      trackCount: videoTracks.length,\n      tracks: trackInfo\n    };\n  } catch (error) {\n    return {\n      success: false,\n      errorName: error.name,\n      errorMessage: error.message,\n      constraintName: error.constraintName\n    };\n  }\n};\n\n/**\r\n * Try to fix common camera issues automatically\r\n */\nexport const fixCameraIssues = async videoElement => {\n  if (!videoElement) return {\n    success: false,\n    message: \"No video element provided\"\n  };\n  try {\n    // 1. Check if browser is in a background tab (which might pause media)\n    if (document.hidden) {\n      return {\n        success: false,\n        message: \"Browser tab is not active. Please focus this tab.\"\n      };\n    }\n\n    // 2. Check if the video element is properly initialized\n    if (!videoElement.srcObject) {\n      return {\n        success: false,\n        message: \"Video source is not set. Try restarting the camera.\"\n      };\n    }\n\n    // 3. Try different constraints if current ones aren't working\n    const videoTracks = videoElement.srcObject.getVideoTracks();\n    if (!videoTracks || videoTracks.length === 0) {\n      // Try getting a lower quality stream\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: {\n          width: {\n            ideal: 320\n          },\n          height: {\n            ideal: 240\n          },\n          frameRate: {\n            max: 15\n          }\n        }\n      });\n      videoElement.srcObject = stream;\n      return {\n        success: true,\n        message: \"Applied lower quality video constraints\"\n      };\n    }\n\n    // 4. Check if track is ended or muted\n    const track = videoTracks[0];\n    if (track.readyState === 'ended') {\n      return {\n        success: false,\n        message: \"Video track has ended. Camera may be in use by another application.\"\n      };\n    }\n\n    // 5. Try restarting the track\n    if (track.stop && typeof track.stop === 'function') {\n      track.stop();\n    }\n    const newStream = await navigator.mediaDevices.getUserMedia({\n      video: true\n    });\n    videoElement.srcObject = newStream;\n    return {\n      success: true,\n      message: \"Camera restarted successfully\"\n    };\n  } catch (error) {\n    return {\n      success: false,\n      message: `Failed to fix camera: ${error.message}`\n    };\n  }\n};\n\n/**\r\n * Enhanced force camera permission prompt with user activation chain\r\n * @returns {Promise<Object>} - Permission status\r\n */\nexport const requestCameraPermission = async () => {\n  try {\n    console.log(\"=== CAMERA PERMISSION DEBUG LOG ===\");\n    console.log(\"Starting camera permission request flow...\");\n\n    // 1. Check current permission status first if available\n    let permissionStatus = null;\n    try {\n      if (navigator.permissions && navigator.permissions.query) {\n        permissionStatus = await navigator.permissions.query({\n          name: 'camera'\n        });\n        console.log(`Initial permission status: ${permissionStatus.state}`);\n\n        // Monitor permission changes\n        permissionStatus.onchange = () => {\n          console.log(`Permission state changed to: ${permissionStatus.state}`);\n        };\n      } else {\n        console.log(\"Permissions API not supported on this browser\");\n      }\n    } catch (permErr) {\n      console.log(\"Error checking permission status:\", permErr);\n    }\n\n    // 2. Try with a very simple constraint set first (more compatible)\n    console.log(\"Requesting camera with basic constraints...\");\n    try {\n      var _permissionStatus;\n      const simpleStream = await navigator.mediaDevices.getUserMedia({\n        video: true,\n        audio: false\n      });\n      console.log(\"Basic camera access GRANTED!\");\n\n      // Get device information\n      const videoTrack = simpleStream.getVideoTracks()[0];\n      if (videoTrack) {\n        console.log(\"Video device:\", videoTrack.label);\n\n        // For debugging: get all camera capabilities\n        try {\n          const capabilities = videoTrack.getCapabilities();\n          console.log(\"Camera capabilities:\", capabilities);\n        } catch (e) {\n          console.log(\"Could not get camera capabilities\");\n        }\n      }\n\n      // Release this stream\n      simpleStream.getTracks().forEach(track => {\n        console.log(`Stopping track: ${track.kind} - ${track.label}`);\n        track.stop();\n      });\n\n      // 3. Now try with more specific constraints\n      console.log(\"Testing with advanced constraints...\");\n      const advancedStream = await navigator.mediaDevices.getUserMedia({\n        video: {\n          facingMode: \"user\",\n          width: {\n            ideal: 640\n          },\n          height: {\n            ideal: 480\n          }\n        },\n        audio: false\n      });\n      console.log(\"Advanced camera access GRANTED!\");\n\n      // Release the advanced stream\n      advancedStream.getTracks().forEach(track => track.stop());\n\n      // 4. Check final permission status\n      if (navigator.permissions && navigator.permissions.query) {\n        const finalStatus = await navigator.permissions.query({\n          name: 'camera'\n        });\n        console.log(`Final permission status: ${finalStatus.state}`);\n      }\n      console.log(\"=== CAMERA PERMISSION FLOW COMPLETE ===\");\n      return {\n        success: true,\n        permissionGranted: true,\n        permissionState: ((_permissionStatus = permissionStatus) === null || _permissionStatus === void 0 ? void 0 : _permissionStatus.state) || 'granted',\n        message: \"Camera permission successfully granted\"\n      };\n    } catch (err) {\n      console.error(\"Error in camera permission flow:\", err);\n      return {\n        success: false,\n        permissionGranted: false,\n        error: err.name,\n        message: err.message,\n        isDenied: err.name === \"NotAllowedError\",\n        isNotFound: err.name === \"NotFoundError\"\n      };\n    }\n  } catch (err) {\n    console.error(\"Unexpected error in camera permission request:\", err);\n    return {\n      success: false,\n      permissionGranted: false,\n      error: err.name,\n      message: err.message\n    };\n  }\n};","map":{"version":3,"names":["diagnoseCamera","report","browserInfo","getBrowserInfo","cameraSupport","checkCameraSupport","permissions","checkCameraPermissions","devices","listMediaDevices","console","log","userAgent","navigator","vendor","platform","language","mediaDevicesSupported","mediaDevices","getUserMediaSupported","getUserMedia","enumerateDevicesSupported","enumerateDevices","streamConstraintsSupported","window","MediaStreamTrack","getSources","permissionStatus","query","name","state","permissionQuerySupported","error","message","supported","count","length","videoCameras","filter","d","kind","map","deviceId","label","groupId","testCameraWithConstraints","constraints","video","stream","videoTracks","getVideoTracks","trackInfo","track","enabled","muted","readyState","getConstraints","settings","getSettings","forEach","stop","success","trackCount","tracks","errorName","errorMessage","constraintName","fixCameraIssues","videoElement","document","hidden","srcObject","width","ideal","height","frameRate","max","newStream","requestCameraPermission","onchange","permErr","_permissionStatus","simpleStream","audio","videoTrack","capabilities","getCapabilities","e","getTracks","advancedStream","facingMode","finalStatus","permissionGranted","permissionState","err","isDenied","isNotFound"],"sources":["D:/Movies/Aniket/test2/test/src/utils/cameraDebugger.js"],"sourcesContent":["/**\r\n * Utility to help debug camera issues\r\n */\r\n\r\nexport const diagnoseCamera = async () => {\r\n  const report = {\r\n    browserInfo: getBrowserInfo(),\r\n    cameraSupport: checkCameraSupport(),\r\n    permissions: await checkCameraPermissions(),\r\n    devices: await listMediaDevices()\r\n  };\r\n  \r\n  console.log(\"Camera diagnostics report:\", report);\r\n  return report;\r\n};\r\n\r\nfunction getBrowserInfo() {\r\n  return {\r\n    userAgent: navigator.userAgent,\r\n    vendor: navigator.vendor,\r\n    platform: navigator.platform,\r\n    language: navigator.language\r\n  };\r\n}\r\n\r\nfunction checkCameraSupport() {\r\n  return {\r\n    mediaDevicesSupported: !!navigator.mediaDevices,\r\n    getUserMediaSupported: !!(navigator.mediaDevices && navigator.mediaDevices.getUserMedia),\r\n    enumerateDevicesSupported: !!(navigator.mediaDevices && navigator.mediaDevices.enumerateDevices),\r\n    streamConstraintsSupported: !!(window.MediaStreamTrack && MediaStreamTrack.getSources)\r\n  };\r\n}\r\n\r\nasync function checkCameraPermissions() {\r\n  try {\r\n    // Query for camera permission state\r\n    const permissionStatus = await navigator.permissions.query({ name: 'camera' });\r\n    return {\r\n      state: permissionStatus.state, // 'granted', 'denied', or 'prompt'\r\n      permissionQuerySupported: true\r\n    };\r\n  } catch (error) {\r\n    // Permission query not supported\r\n    return {\r\n      state: 'unknown',\r\n      permissionQuerySupported: false,\r\n      error: error.message\r\n    };\r\n  }\r\n}\r\n\r\nasync function listMediaDevices() {\r\n  try {\r\n    if (!navigator.mediaDevices || !navigator.mediaDevices.enumerateDevices) {\r\n      return { supported: false };\r\n    }\r\n    \r\n    const devices = await navigator.mediaDevices.enumerateDevices();\r\n    \r\n    return {\r\n      supported: true,\r\n      count: devices.length,\r\n      videoCameras: devices.filter(d => d.kind === 'videoinput').map(d => ({\r\n        deviceId: d.deviceId,\r\n        label: d.label || 'Unnamed camera',\r\n        groupId: d.groupId\r\n      }))\r\n    };\r\n  } catch (error) {\r\n    return {\r\n      supported: false,\r\n      error: error.message\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * Tests the camera with current constraints\r\n * @returns {Promise<Object>} Test results\r\n */\r\nexport const testCameraWithConstraints = async (constraints = { video: true }) => {\r\n  try {\r\n    const stream = await navigator.mediaDevices.getUserMedia(constraints);\r\n    \r\n    // Analyze the stream tracks\r\n    const videoTracks = stream.getVideoTracks();\r\n    const trackInfo = videoTracks.map(track => ({\r\n      label: track.label,\r\n      enabled: track.enabled,\r\n      muted: track.muted,\r\n      readyState: track.readyState,\r\n      constraints: track.getConstraints(),\r\n      settings: track.getSettings()\r\n    }));\r\n    \r\n    // Stop the stream\r\n    videoTracks.forEach(track => track.stop());\r\n    \r\n    return {\r\n      success: true,\r\n      trackCount: videoTracks.length,\r\n      tracks: trackInfo\r\n    };\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      errorName: error.name,\r\n      errorMessage: error.message,\r\n      constraintName: error.constraintName\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * Try to fix common camera issues automatically\r\n */\r\nexport const fixCameraIssues = async (videoElement) => {\r\n  if (!videoElement) return { success: false, message: \"No video element provided\" };\r\n  \r\n  try {\r\n    // 1. Check if browser is in a background tab (which might pause media)\r\n    if (document.hidden) {\r\n      return { \r\n        success: false, \r\n        message: \"Browser tab is not active. Please focus this tab.\" \r\n      };\r\n    }\r\n    \r\n    // 2. Check if the video element is properly initialized\r\n    if (!videoElement.srcObject) {\r\n      return { \r\n        success: false, \r\n        message: \"Video source is not set. Try restarting the camera.\" \r\n      };\r\n    }\r\n    \r\n    // 3. Try different constraints if current ones aren't working\r\n    const videoTracks = videoElement.srcObject.getVideoTracks();\r\n    if (!videoTracks || videoTracks.length === 0) {\r\n      // Try getting a lower quality stream\r\n      const stream = await navigator.mediaDevices.getUserMedia({\r\n        video: {\r\n          width: { ideal: 320 },\r\n          height: { ideal: 240 },\r\n          frameRate: { max: 15 }\r\n        }\r\n      });\r\n      \r\n      videoElement.srcObject = stream;\r\n      return {\r\n        success: true,\r\n        message: \"Applied lower quality video constraints\"\r\n      };\r\n    }\r\n    \r\n    // 4. Check if track is ended or muted\r\n    const track = videoTracks[0];\r\n    if (track.readyState === 'ended') {\r\n      return {\r\n        success: false,\r\n        message: \"Video track has ended. Camera may be in use by another application.\"\r\n      };\r\n    }\r\n    \r\n    // 5. Try restarting the track\r\n    if (track.stop && typeof track.stop === 'function') {\r\n      track.stop();\r\n    }\r\n    \r\n    const newStream = await navigator.mediaDevices.getUserMedia({ video: true });\r\n    videoElement.srcObject = newStream;\r\n    \r\n    return {\r\n      success: true,\r\n      message: \"Camera restarted successfully\"\r\n    };\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      message: `Failed to fix camera: ${error.message}`\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * Enhanced force camera permission prompt with user activation chain\r\n * @returns {Promise<Object>} - Permission status\r\n */\r\nexport const requestCameraPermission = async () => {\r\n  try {\r\n    console.log(\"=== CAMERA PERMISSION DEBUG LOG ===\");\r\n    console.log(\"Starting camera permission request flow...\");\r\n    \r\n    // 1. Check current permission status first if available\r\n    let permissionStatus = null;\r\n    try {\r\n      if (navigator.permissions && navigator.permissions.query) {\r\n        permissionStatus = await navigator.permissions.query({ name: 'camera' });\r\n        console.log(`Initial permission status: ${permissionStatus.state}`);\r\n        \r\n        // Monitor permission changes\r\n        permissionStatus.onchange = () => {\r\n          console.log(`Permission state changed to: ${permissionStatus.state}`);\r\n        };\r\n      } else {\r\n        console.log(\"Permissions API not supported on this browser\");\r\n      }\r\n    } catch (permErr) {\r\n      console.log(\"Error checking permission status:\", permErr);\r\n    }\r\n    \r\n    // 2. Try with a very simple constraint set first (more compatible)\r\n    console.log(\"Requesting camera with basic constraints...\");\r\n    try {\r\n      const simpleStream = await navigator.mediaDevices.getUserMedia({ \r\n        video: true, \r\n        audio: false \r\n      });\r\n      \r\n      console.log(\"Basic camera access GRANTED!\");\r\n      \r\n      // Get device information\r\n      const videoTrack = simpleStream.getVideoTracks()[0];\r\n      if (videoTrack) {\r\n        console.log(\"Video device:\", videoTrack.label);\r\n        \r\n        // For debugging: get all camera capabilities\r\n        try {\r\n          const capabilities = videoTrack.getCapabilities();\r\n          console.log(\"Camera capabilities:\", capabilities);\r\n        } catch (e) {\r\n          console.log(\"Could not get camera capabilities\");\r\n        }\r\n      }\r\n      \r\n      // Release this stream\r\n      simpleStream.getTracks().forEach(track => {\r\n        console.log(`Stopping track: ${track.kind} - ${track.label}`);\r\n        track.stop();\r\n      });\r\n      \r\n      // 3. Now try with more specific constraints\r\n      console.log(\"Testing with advanced constraints...\");\r\n      const advancedStream = await navigator.mediaDevices.getUserMedia({\r\n        video: {\r\n          facingMode: \"user\",\r\n          width: { ideal: 640 },\r\n          height: { ideal: 480 }\r\n        },\r\n        audio: false\r\n      });\r\n      \r\n      console.log(\"Advanced camera access GRANTED!\");\r\n      \r\n      // Release the advanced stream\r\n      advancedStream.getTracks().forEach(track => track.stop());\r\n      \r\n      // 4. Check final permission status\r\n      if (navigator.permissions && navigator.permissions.query) {\r\n        const finalStatus = await navigator.permissions.query({ name: 'camera' });\r\n        console.log(`Final permission status: ${finalStatus.state}`);\r\n      }\r\n      \r\n      console.log(\"=== CAMERA PERMISSION FLOW COMPLETE ===\");\r\n      \r\n      return {\r\n        success: true,\r\n        permissionGranted: true,\r\n        permissionState: (permissionStatus?.state || 'granted'),\r\n        message: \"Camera permission successfully granted\"\r\n      };\r\n    } catch (err) {\r\n      console.error(\"Error in camera permission flow:\", err);\r\n      return {\r\n        success: false,\r\n        permissionGranted: false,\r\n        error: err.name,\r\n        message: err.message,\r\n        isDenied: err.name === \"NotAllowedError\",\r\n        isNotFound: err.name === \"NotFoundError\"\r\n      };\r\n    }\r\n  } catch (err) {\r\n    console.error(\"Unexpected error in camera permission request:\", err);\r\n    return {\r\n      success: false,\r\n      permissionGranted: false,\r\n      error: err.name,\r\n      message: err.message\r\n    };\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}