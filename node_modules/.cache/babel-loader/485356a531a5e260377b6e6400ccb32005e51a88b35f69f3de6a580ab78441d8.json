{"ast":null,"code":"/**\r\n * Utility to check browser compatibility for camera features\r\n */\nexport const checkBrowserCompatibility = () => {\n  const results = {\n    compatible: true,\n    issues: [],\n    browser: {\n      name: getBrowserName(),\n      version: getBrowserVersion(),\n      mobile: isMobile()\n    },\n    features: {\n      mediaDevices: !!navigator.mediaDevices,\n      getUserMedia: !!(navigator.mediaDevices && navigator.mediaDevices.getUserMedia),\n      webGL: hasWebGLSupport()\n    }\n  };\n\n  // Check if browser is compatible with face-api.js\n  if (!results.features.webGL) {\n    results.compatible = false;\n    results.issues.push(\"WebGL is not supported, which is required for face detection\");\n  }\n  if (!results.features.getUserMedia) {\n    results.compatible = false;\n    results.issues.push(\"Camera access (getUserMedia) is not supported\");\n  }\n\n  // Add specific browser recommendations\n  if (results.browser.name === \"Internet Explorer\") {\n    results.compatible = false;\n    results.issues.push(\"Internet Explorer is not supported. Please use Chrome, Firefox, or Edge\");\n  }\n  if (results.browser.name === \"Safari\" && parseInt(results.browser.version) < 14) {\n    results.issues.push(\"Older Safari versions may have limited compatibility. Upgrade to Safari 14+ for best experience\");\n  }\n  return results;\n};\n\n// Helper functions\nfunction getBrowserName() {\n  const userAgent = navigator.userAgent;\n  if (userAgent.indexOf(\"Firefox\") > -1) return \"Firefox\";\n  if (userAgent.indexOf(\"SamsungBrowser\") > -1) return \"Samsung Internet\";\n  if (userAgent.indexOf(\"Opera\") > -1 || userAgent.indexOf(\"OPR\") > -1) return \"Opera\";\n  if (userAgent.indexOf(\"Trident\") > -1) return \"Internet Explorer\";\n  if (userAgent.indexOf(\"Edge\") > -1) return \"Edge\";\n  if (userAgent.indexOf(\"Chrome\") > -1) return \"Chrome\";\n  if (userAgent.indexOf(\"Safari\") > -1) return \"Safari\";\n  return \"Unknown\";\n}\nfunction getBrowserVersion() {\n  const userAgent = navigator.userAgent;\n  const browser = getBrowserName();\n  let version = \"Unknown\";\n  if (browser === \"Chrome\") {\n    version = userAgent.match(/Chrome\\/([0-9.]+)/)[1];\n  } else if (browser === \"Firefox\") {\n    version = userAgent.match(/Firefox\\/([0-9.]+)/)[1];\n  } else if (browser === \"Safari\") {\n    version = userAgent.match(/Version\\/([0-9.]+)/)[1];\n  } else if (browser === \"Edge\") {\n    version = userAgent.match(/Edge\\/([0-9.]+)/)[1];\n  }\n  return version;\n}\nfunction isMobile() {\n  return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n}\nfunction hasWebGLSupport() {\n  try {\n    const canvas = document.createElement('canvas');\n    return !!(window.WebGLRenderingContext && (canvas.getContext('webgl') || canvas.getContext('experimental-webgl')));\n  } catch (e) {\n    return false;\n  }\n}\n\n/**\r\n * Test camera availability and permissions\r\n * @returns {Promise<Object>} Result with success status and potential error\r\n */\nexport const testCameraAccess = async () => {\n  try {\n    const stream = await navigator.mediaDevices.getUserMedia({\n      video: true\n    });\n    // Stop all tracks to release camera\n    stream.getTracks().forEach(track => track.stop());\n    return {\n      success: true,\n      message: \"Camera access granted\"\n    };\n  } catch (error) {\n    return {\n      success: false,\n      error: error.name || \"Unknown error\",\n      message: error.message,\n      isDenied: error.name === \"NotAllowedError\",\n      isNotFound: error.name === \"NotFoundError\"\n    };\n  }\n};","map":{"version":3,"names":["checkBrowserCompatibility","results","compatible","issues","browser","name","getBrowserName","version","getBrowserVersion","mobile","isMobile","features","mediaDevices","navigator","getUserMedia","webGL","hasWebGLSupport","push","parseInt","userAgent","indexOf","match","test","canvas","document","createElement","window","WebGLRenderingContext","getContext","e","testCameraAccess","stream","video","getTracks","forEach","track","stop","success","message","error","isDenied","isNotFound"],"sources":["D:/Movies/Aniket/test2/test/src/utils/browserCheck.js"],"sourcesContent":["/**\r\n * Utility to check browser compatibility for camera features\r\n */\r\nexport const checkBrowserCompatibility = () => {\r\n  const results = {\r\n    compatible: true,\r\n    issues: [],\r\n    browser: {\r\n      name: getBrowserName(),\r\n      version: getBrowserVersion(),\r\n      mobile: isMobile()\r\n    },\r\n    features: {\r\n      mediaDevices: !!navigator.mediaDevices,\r\n      getUserMedia: !!(navigator.mediaDevices && navigator.mediaDevices.getUserMedia),\r\n      webGL: hasWebGLSupport()\r\n    }\r\n  };\r\n  \r\n  // Check if browser is compatible with face-api.js\r\n  if (!results.features.webGL) {\r\n    results.compatible = false;\r\n    results.issues.push(\"WebGL is not supported, which is required for face detection\");\r\n  }\r\n  \r\n  if (!results.features.getUserMedia) {\r\n    results.compatible = false;\r\n    results.issues.push(\"Camera access (getUserMedia) is not supported\");\r\n  }\r\n  \r\n  // Add specific browser recommendations\r\n  if (results.browser.name === \"Internet Explorer\") {\r\n    results.compatible = false;\r\n    results.issues.push(\"Internet Explorer is not supported. Please use Chrome, Firefox, or Edge\");\r\n  }\r\n  \r\n  if (results.browser.name === \"Safari\" && parseInt(results.browser.version) < 14) {\r\n    results.issues.push(\"Older Safari versions may have limited compatibility. Upgrade to Safari 14+ for best experience\");\r\n  }\r\n  \r\n  return results;\r\n};\r\n\r\n// Helper functions\r\nfunction getBrowserName() {\r\n  const userAgent = navigator.userAgent;\r\n  if (userAgent.indexOf(\"Firefox\") > -1) return \"Firefox\";\r\n  if (userAgent.indexOf(\"SamsungBrowser\") > -1) return \"Samsung Internet\";\r\n  if (userAgent.indexOf(\"Opera\") > -1 || userAgent.indexOf(\"OPR\") > -1) return \"Opera\";\r\n  if (userAgent.indexOf(\"Trident\") > -1) return \"Internet Explorer\";\r\n  if (userAgent.indexOf(\"Edge\") > -1) return \"Edge\";\r\n  if (userAgent.indexOf(\"Chrome\") > -1) return \"Chrome\";\r\n  if (userAgent.indexOf(\"Safari\") > -1) return \"Safari\";\r\n  return \"Unknown\";\r\n}\r\n\r\nfunction getBrowserVersion() {\r\n  const userAgent = navigator.userAgent;\r\n  const browser = getBrowserName();\r\n  let version = \"Unknown\";\r\n  \r\n  if (browser === \"Chrome\") {\r\n    version = userAgent.match(/Chrome\\/([0-9.]+)/)[1];\r\n  } else if (browser === \"Firefox\") {\r\n    version = userAgent.match(/Firefox\\/([0-9.]+)/)[1];\r\n  } else if (browser === \"Safari\") {\r\n    version = userAgent.match(/Version\\/([0-9.]+)/)[1];\r\n  } else if (browser === \"Edge\") {\r\n    version = userAgent.match(/Edge\\/([0-9.]+)/)[1];\r\n  }\r\n  \r\n  return version;\r\n}\r\n\r\nfunction isMobile() {\r\n  return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\r\n}\r\n\r\nfunction hasWebGLSupport() {\r\n  try {\r\n    const canvas = document.createElement('canvas');\r\n    return !!(window.WebGLRenderingContext && \r\n      (canvas.getContext('webgl') || canvas.getContext('experimental-webgl')));\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n}\r\n\r\n/**\r\n * Test camera availability and permissions\r\n * @returns {Promise<Object>} Result with success status and potential error\r\n */\r\nexport const testCameraAccess = async () => {\r\n  try {\r\n    const stream = await navigator.mediaDevices.getUserMedia({ video: true });\r\n    // Stop all tracks to release camera\r\n    stream.getTracks().forEach(track => track.stop());\r\n    return { \r\n      success: true, \r\n      message: \"Camera access granted\"\r\n    };\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      error: error.name || \"Unknown error\",\r\n      message: error.message,\r\n      isDenied: error.name === \"NotAllowedError\",\r\n      isNotFound: error.name === \"NotFoundError\"\r\n    };\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}