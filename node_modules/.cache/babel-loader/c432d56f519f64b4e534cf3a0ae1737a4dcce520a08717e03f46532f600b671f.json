{"ast":null,"code":"var _jsxFileName = \"D:\\\\Movies\\\\Aniket\\\\test2\\\\test\\\\src\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport * as faceapi from 'face-api.js';\nimport { getFaceDescriptor } from './firebase/faceAuthService';\nimport { auth, db } from './firebase/config';\nimport { collection, getDocs } from 'firebase/firestore';\nimport './Login.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const [isCapturing, setIsCapturing] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [isModelLoaded, setIsModelLoaded] = useState(false);\n  const [scanStatus, setScanStatus] = useState('');\n  const [matchProgress, setMatchProgress] = useState(0);\n  const videoRef = useRef(null);\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (isCapturing) {\n      loadModels();\n    }\n  }, [isCapturing]);\n  const loadModels = async () => {\n    try {\n      setScanStatus('Loading face detection models...');\n      setLoading(true);\n      const MODEL_URL = 'https://justadudewhohacks.github.io/face-api.js/models';\n      await Promise.all([faceapi.nets.tinyFaceDetector.loadFromUri(MODEL_URL), faceapi.nets.faceLandmark68Net.loadFromUri(MODEL_URL), faceapi.nets.faceRecognitionNet.loadFromUri(MODEL_URL)]);\n      setIsModelLoaded(true);\n      setScanStatus('Models loaded. Starting face scan...');\n      startVideoStream();\n    } catch (err) {\n      setError('Error loading face detection models: ' + err.message);\n      setLoading(false);\n    }\n  };\n  const startFaceAuthentication = () => {\n    setIsCapturing(true);\n  };\n  const startVideoStream = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: {}\n      });\n      if (videoRef.current) {\n        videoRef.current.srcObject = stream;\n        videoRef.current.onloadedmetadata = () => {\n          videoRef.current.play();\n          beginFaceMatching();\n        };\n      }\n    } catch (err) {\n      setError('Error accessing camera: ' + err.message);\n      setLoading(false);\n    }\n  };\n  const beginFaceMatching = async () => {\n    setScanStatus('Scanning for faces...');\n\n    // Get all users from Firestore to check against\n    try {\n      const usersCollection = collection(db, 'faceDescriptors');\n      const userSnapshot = await getDocs(usersCollection);\n      const userList = userSnapshot.docs.map(doc => doc.id);\n      if (userList.length === 0) {\n        setScanStatus('No registered users found. Please sign up first.');\n        setLoading(false);\n        return;\n      }\n      startFaceDetectionLoop(userList);\n    } catch (err) {\n      setError('Error fetching user data: ' + err.message);\n      setLoading(false);\n    }\n  };\n  const startFaceDetectionLoop = userIds => {\n    let matchAttempts = 0;\n    const maxAttempts = 30; // Stop after this many attempts\n\n    const detectFace = async () => {\n      if (!videoRef.current || matchAttempts >= maxAttempts) return;\n      try {\n        setScanStatus(`Matching face (attempt ${matchAttempts + 1}/${maxAttempts})...`);\n        setMatchProgress(matchAttempts / maxAttempts * 100);\n        const detection = await faceapi.detectSingleFace(videoRef.current, new faceapi.TinyFaceDetectorOptions()).withFaceLandmarks().withFaceDescriptor();\n        if (detection) {\n          // Check against all user face descriptors\n          for (const userId of userIds) {\n            const storedDescriptor = await getFaceDescriptor(userId);\n            if (storedDescriptor) {\n              const distance = faceapi.euclideanDistance(detection.descriptor, storedDescriptor);\n              console.log(`Match distance for user ${userId}: ${distance}`);\n\n              // Threshold for face match (lower is better)\n              if (distance < 0.5) {\n                setIsAuthenticated(true);\n                setScanStatus('Authentication successful! Redirecting...');\n                setLoading(false);\n\n                // Store authentication in localStorage\n                localStorage.setItem('authenticated', 'true');\n                localStorage.setItem('authenticatedUserId', userId);\n                setTimeout(() => {\n                  stopVideoStream();\n                  navigate('/');\n                }, 1500);\n                return;\n              }\n            }\n          }\n        }\n        matchAttempts++;\n        if (matchAttempts >= maxAttempts) {\n          setScanStatus('Could not authenticate face. Please try again or register.');\n          setLoading(false);\n        } else {\n          requestAnimationFrame(detectFace);\n        }\n      } catch (err) {\n        setError('Error during face detection: ' + err.message);\n        setLoading(false);\n      }\n    };\n    detectFace();\n  };\n  const stopVideoStream = () => {\n    var _videoRef$current;\n    if ((_videoRef$current = videoRef.current) !== null && _videoRef$current !== void 0 && _videoRef$current.srcObject) {\n      videoRef.current.srcObject.getTracks().forEach(track => track.stop());\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Face Authentication\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-content\",\n        children: !isCapturing ? /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"face-auth-btn\",\n          onClick: startFaceAuthentication,\n          disabled: loading,\n          children: \"Start Face Authentication\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"video-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"video\", {\n            ref: videoRef,\n            autoPlay: true,\n            muted: true,\n            playsInline: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 15\n          }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"scanning-overlay\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"scanning-animation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: scanStatus\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"progress-container\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"progress-bar\",\n                style: {\n                  width: `${matchProgress}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 17\n          }, this), isAuthenticated && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"auth-success-overlay\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"success-checkmark\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Authentication Successful!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"redirect-message\",\n              children: \"Redirecting...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alternative-auth\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Don't have an account?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"register-btn\",\n          onClick: () => navigate('/signup'),\n          children: \"Register with Face ID\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 159,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"258ga/kR4PU4t8tUSRlG4ndm8V0=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useNavigate","faceapi","getFaceDescriptor","auth","db","collection","getDocs","jsxDEV","_jsxDEV","Login","_s","isCapturing","setIsCapturing","loading","setLoading","error","setError","isAuthenticated","setIsAuthenticated","isModelLoaded","setIsModelLoaded","scanStatus","setScanStatus","matchProgress","setMatchProgress","videoRef","navigate","loadModels","MODEL_URL","Promise","all","nets","tinyFaceDetector","loadFromUri","faceLandmark68Net","faceRecognitionNet","startVideoStream","err","message","startFaceAuthentication","stream","navigator","mediaDevices","getUserMedia","video","current","srcObject","onloadedmetadata","play","beginFaceMatching","usersCollection","userSnapshot","userList","docs","map","doc","id","length","startFaceDetectionLoop","userIds","matchAttempts","maxAttempts","detectFace","detection","detectSingleFace","TinyFaceDetectorOptions","withFaceLandmarks","withFaceDescriptor","userId","storedDescriptor","distance","euclideanDistance","descriptor","console","log","localStorage","setItem","setTimeout","stopVideoStream","requestAnimationFrame","_videoRef$current","getTracks","forEach","track","stop","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","ref","autoPlay","muted","playsInline","style","width","_c","$RefreshReg$"],"sources":["D:/Movies/Aniket/test2/test/src/Login.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport * as faceapi from 'face-api.js';\r\nimport { getFaceDescriptor } from './firebase/faceAuthService';\r\nimport { auth, db } from './firebase/config';\r\nimport { collection, getDocs } from 'firebase/firestore';\r\nimport './Login.css';\r\n\r\nconst Login = () => {\r\n  const [isCapturing, setIsCapturing] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [isModelLoaded, setIsModelLoaded] = useState(false);\r\n  const [scanStatus, setScanStatus] = useState('');\r\n  const [matchProgress, setMatchProgress] = useState(0);\r\n  \r\n  const videoRef = useRef(null);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    if (isCapturing) {\r\n      loadModels();\r\n    }\r\n  }, [isCapturing]);\r\n\r\n  const loadModels = async () => {\r\n    try {\r\n      setScanStatus('Loading face detection models...');\r\n      setLoading(true);\r\n      \r\n      const MODEL_URL = 'https://justadudewhohacks.github.io/face-api.js/models';\r\n      await Promise.all([\r\n        faceapi.nets.tinyFaceDetector.loadFromUri(MODEL_URL),\r\n        faceapi.nets.faceLandmark68Net.loadFromUri(MODEL_URL),\r\n        faceapi.nets.faceRecognitionNet.loadFromUri(MODEL_URL)\r\n      ]);\r\n      \r\n      setIsModelLoaded(true);\r\n      setScanStatus('Models loaded. Starting face scan...');\r\n      startVideoStream();\r\n    } catch (err) {\r\n      setError('Error loading face detection models: ' + err.message);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const startFaceAuthentication = () => {\r\n    setIsCapturing(true);\r\n  };\r\n\r\n  const startVideoStream = async () => {\r\n    try {\r\n      const stream = await navigator.mediaDevices.getUserMedia({ video: {} });\r\n      if (videoRef.current) {\r\n        videoRef.current.srcObject = stream;\r\n        videoRef.current.onloadedmetadata = () => {\r\n          videoRef.current.play();\r\n          beginFaceMatching();\r\n        };\r\n      }\r\n    } catch (err) {\r\n      setError('Error accessing camera: ' + err.message);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const beginFaceMatching = async () => {\r\n    setScanStatus('Scanning for faces...');\r\n    \r\n    // Get all users from Firestore to check against\r\n    try {\r\n      const usersCollection = collection(db, 'faceDescriptors');\r\n      const userSnapshot = await getDocs(usersCollection);\r\n      const userList = userSnapshot.docs.map(doc => doc.id);\r\n      \r\n      if (userList.length === 0) {\r\n        setScanStatus('No registered users found. Please sign up first.');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n      \r\n      startFaceDetectionLoop(userList);\r\n    } catch (err) {\r\n      setError('Error fetching user data: ' + err.message);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const startFaceDetectionLoop = (userIds) => {\r\n    let matchAttempts = 0;\r\n    const maxAttempts = 30; // Stop after this many attempts\r\n    \r\n    const detectFace = async () => {\r\n      if (!videoRef.current || matchAttempts >= maxAttempts) return;\r\n      \r\n      try {\r\n        setScanStatus(`Matching face (attempt ${matchAttempts + 1}/${maxAttempts})...`);\r\n        setMatchProgress((matchAttempts / maxAttempts) * 100);\r\n        \r\n        const detection = await faceapi\r\n          .detectSingleFace(videoRef.current, new faceapi.TinyFaceDetectorOptions())\r\n          .withFaceLandmarks()\r\n          .withFaceDescriptor();\r\n\r\n        if (detection) {\r\n          // Check against all user face descriptors\r\n          for (const userId of userIds) {\r\n            const storedDescriptor = await getFaceDescriptor(userId);\r\n            \r\n            if (storedDescriptor) {\r\n              const distance = faceapi.euclideanDistance(detection.descriptor, storedDescriptor);\r\n              console.log(`Match distance for user ${userId}: ${distance}`);\r\n              \r\n              // Threshold for face match (lower is better)\r\n              if (distance < 0.5) {\r\n                setIsAuthenticated(true);\r\n                setScanStatus('Authentication successful! Redirecting...');\r\n                setLoading(false);\r\n                \r\n                // Store authentication in localStorage\r\n                localStorage.setItem('authenticated', 'true');\r\n                localStorage.setItem('authenticatedUserId', userId);\r\n                \r\n                setTimeout(() => {\r\n                  stopVideoStream();\r\n                  navigate('/');\r\n                }, 1500);\r\n                return;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        \r\n        matchAttempts++;\r\n        \r\n        if (matchAttempts >= maxAttempts) {\r\n          setScanStatus('Could not authenticate face. Please try again or register.');\r\n          setLoading(false);\r\n        } else {\r\n          requestAnimationFrame(detectFace);\r\n        }\r\n      } catch (err) {\r\n        setError('Error during face detection: ' + err.message);\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    detectFace();\r\n  };\r\n\r\n  const stopVideoStream = () => {\r\n    if (videoRef.current?.srcObject) {\r\n      videoRef.current.srcObject.getTracks().forEach(track => track.stop());\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-container\">\r\n      <div className=\"login-card\">\r\n        <h2>Face Authentication</h2>\r\n        {error && <div className=\"error-message\">{error}</div>}\r\n        \r\n        <div className=\"auth-content\">\r\n          {!isCapturing ? (\r\n            <button \r\n              className=\"face-auth-btn\"\r\n              onClick={startFaceAuthentication}\r\n              disabled={loading}\r\n            >\r\n              Start Face Authentication\r\n            </button>\r\n          ) : (\r\n            <div className=\"video-container\">\r\n              <video\r\n                ref={videoRef}\r\n                autoPlay\r\n                muted\r\n                playsInline\r\n              />\r\n              \r\n              {loading && (\r\n                <div className=\"scanning-overlay\">\r\n                  <div className=\"scanning-animation\"></div>\r\n                  <p>{scanStatus}</p>\r\n                  <div className=\"progress-container\">\r\n                    <div className=\"progress-bar\" style={{width: `${matchProgress}%`}}></div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              \r\n              {isAuthenticated && (\r\n                <div className=\"auth-success-overlay\">\r\n                  <div className=\"success-checkmark\"></div>\r\n                  <p>Authentication Successful!</p>\r\n                  <p className=\"redirect-message\">Redirecting...</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"alternative-auth\">\r\n          <p>Don't have an account?</p>\r\n          <button \r\n            className=\"register-btn\"\r\n            onClick={() => navigate('/signup')}\r\n          >\r\n            Register with Face ID\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}